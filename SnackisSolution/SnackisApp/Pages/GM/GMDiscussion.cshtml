@page
@model SnackisApp.Pages.GM.GMDiscussionModel

@{
}

<div class="mb-3">
    <a asp-page="./CreateGM" asp-route-GroupId="@Model.Group.Id">Skapa inlägg </a>
</div>

<table class="table table-sm">
    <tbody>
        @if (Model.ParentPosts != null)
        {
            @foreach (var post in Model.ParentPosts)
            {
                <tr class="border-bottom">
                    <th>
                        <a asp-page="./GMThread" asp-route-PostId="@post.Id">@Html.DisplayFor(modelItem => post.Title)</a>
                    </th>
                    @if (post.Text != null && post.Text.Length > 100)
                    {
                        <td>
                            @post.Text.Substring(0, 100)...
                        </td>
 }

                    else
                    {
                        <td>
                            @post.Text
                        </td>
               }
                </tr>
}}
    </tbody>
</table>